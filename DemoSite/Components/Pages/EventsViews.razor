@page "/eventsviews"
@using DemoApiLib.Models.ApiModels
@using DemoSite.Content.Scheduler

<h1 style="text-align:center">Events for @selectedDate.ToShortDateString()</h1>

<DayView Events="@eventsForSelectedDate" CurrentDate="@selectedDate" />

@code {
    private List<Event> eventsForSelectedDate = new List<Event>();
    private DateOnly selectedDate = DateOnly.FromDateTime(DateTime.Today);

    protected override void OnInitialized()
    {
        eventsForSelectedDate = GetEventsForDate(selectedDate);
    }

    private List<Event> GetEventsForDate(DateOnly date)
    {
        return new List<Event>
        {
            new Event { Title = "Meeting", StartTime = new TimeOnly(9, 0), EndTime = new TimeOnly(10, 30) },
            new Event { Title = "Lunch", StartTime = new TimeOnly(12, 0), EndTime = new TimeOnly(13, 0) },
            new Event { Title = "Workshop", StartTime = new TimeOnly(14, 0), EndTime = new TimeOnly(16, 30) }
        };
    }
}